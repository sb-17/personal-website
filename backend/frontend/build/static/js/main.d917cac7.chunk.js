(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{118:function(e,t,a){"use strict";a.r(t);var n,s=a(1),c=a.n(s),r=a(27),o=a.n(r),i=(a(88),a(19),a(6)),l=a.n(i),d=a(32),j=a(14),h=a(10),u=a(11),b=a(13),p=a(12),m=a(2),O=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return document.title="Home",Object(m.jsx)("div",{className:"container",children:Object(m.jsx)("div",{className:"row",children:Object(m.jsxs)("div",{className:"col-md-12",children:[Object(m.jsx)("br",{}),Object(m.jsx)("h2",{className:"display-4 text-center",children:"Welcome"}),Object(m.jsx)("hr",{})]})})})}}]),a}(s.Component),x=function(e){var t=e.project;return Object(m.jsx)("div",{className:"project-container",children:Object(m.jsxs)("div",{className:"desc",children:[Object(m.jsx)("h2",{children:Object(m.jsx)(d.b,{to:"/project/".concat(t._id),children:Object(m.jsxs)("h4",{children:[t.title," | ",t.language]})})}),Object(m.jsx)("br",{}),Object(m.jsx)("p",{children:t.description}),Object(m.jsx)("br",{}),Object(m.jsx)("p",{children:t.status})]})})},g=a(7),f=a(61),v=a(33),N=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).loadProjects=function(e){l.a.get("/api/projects").then((function(e){"Title"==g.reactLocalStorage.get("sort")?n.setState({projects:e.data.sort((function(e,t){return e.title>t.title?1:-1}))}):"Date"==g.reactLocalStorage.get("sort")?n.setState({projects:e.data.sort((function(e,t){return new Date(e.published_date.split("/").reverse())>new Date(t.published_date.split("/").reverse())?-1:1}))}):"Status"==g.reactLocalStorage.get("sort")&&n.setState({projects:e.data.sort((function(e,t){return e.status>t.status?1:-1}))})})).catch((function(e){console.log("Error from ShowProjectList")}))},n.createProject=function(e){var t={headers:{Authorization:g.reactLocalStorage.get("token")}};l.a.post("/api/auth",null,t).then((function(e){"true"===e.data.data.user.isAdmin&&n.props.history.push("/create")}))},n.onSortSelect=function(e){g.reactLocalStorage.set("sort",e),n.setState({sort:e}),window.location.reload(!1)},n.state={projects:[],isAdmin:!1,sort:g.reactLocalStorage.get("sort")},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;null==g.reactLocalStorage.get("sort")&&(g.reactLocalStorage.set("sort","Title"),this.setState({sort:"Title"}));var t={headers:{Authorization:g.reactLocalStorage.get("token")}};l.a.post("/api/auth",null,t).then((function(t){"true"===t.data.data.user.isAdmin&&e.setState({isAdmin:!0})})),this.loadProjects()}},{key:"render",value:function(){var e,t=this.state.projects;return document.title="Projects",e=t?t.map((function(e,t){return Object(m.jsx)("div",{className:"container",children:Object(m.jsx)(x,{project:e},t)})})):"there is no project record!",Object(m.jsx)("div",{className:"ShowProjectList",children:Object(m.jsxs)("div",{className:"container",children:[Object(m.jsxs)("div",{className:"row",children:[Object(m.jsxs)("div",{className:"col-md-12",children:[Object(m.jsx)("br",{}),Object(m.jsx)("h2",{className:"display-4 text-center",children:"Project List"}),Object(m.jsx)("hr",{}),this.state.isAdmin&&Object(m.jsxs)("div",{children:[Object(m.jsx)("button",{onClick:this.createProject.bind(),className:"btn btn-outline-info btn-lg btn-block",children:"Create Project"}),Object(m.jsx)("br",{})]}),Object(m.jsx)("center",{children:Object(m.jsxs)(f.a,{onSelect:this.onSortSelect,id:"dropdown-basic-button",variant:"secondary",title:"Sorted by "+this.state.sort,children:[Object(m.jsx)(v.a.Item,{eventKey:"Title",children:"Title"}),Object(m.jsx)(v.a.Item,{eventKey:"Date",children:"Date"}),Object(m.jsx)(v.a.Item,{eventKey:"Status",children:"Status"})]})})]}),Object(m.jsx)("br",{})]}),Object(m.jsx)("div",{className:"list",children:e})]})})}}]),a}(s.Component),w=a(17),S=a(54),k=a(53),y=function(e){var t=e.comment;return Object(m.jsx)("div",{className:"comment-container",children:Object(m.jsxs)("div",{className:"comment",children:[Object(m.jsx)("h2",{children:Object(m.jsxs)("h3",{children:[t.author,", ",t.published_date," ",Object(m.jsx)(k.b,{onClick:function(){var e={headers:{Authorization:g.reactLocalStorage.get("token")}};l.a.post("/api/auth",null,e).then((function(e){e.data.data.user.username!==t.author&&"true"!==e.data.data.user.isAdmin||l.a.delete("/api/comments/"+t.project,{headers:{Authorization:g.reactLocalStorage.get("token")},data:{project:t.project,author:t.author,description:t.description,published_date:t.published_date}}).then((function(e){window.location.reload(!1)})).catch((function(e){console.log("Error in Delete Comment!")}))}))}.bind()})]})}),Object(m.jsx)("br",{}),Object(m.jsx)("p",{children:t.description})]})})},C=a(75),L=a.n(C),P=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).editPage=function(e){var t={headers:{Authorization:g.reactLocalStorage.get("token")}};l.a.post("/api/auth",null,t).then((function(e){"true"===e.data.data.user.isAdmin&&n.props.history.push("/edit/"+n.props.match.params.id)}))},n.onChange=function(e){n.setState(Object(w.a)({},e.target.name,e.target.value))},n.createComment=function(e){e.preventDefault();var t={headers:{Authorization:g.reactLocalStorage.get("token")}};l.a.post("/api/auth",null,t).then((function(e){if(e.data.data.user){var a={author:e.data.data.user.username,description:n.state.description,published_date:L()().format("DD/MM/YYYY")};l.a.post("/api/comments/"+n.props.match.params.id,a,t).then((function(e){n.setState({description:""}),window.location.reload(!1)})).catch((function(e){console.log("Error in Create Comment!")}))}}))},n.state={project:{},comments:[],isAdmin:!1,description:"",loggedIn:!1},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({comments:[]});var t={headers:{Authorization:g.reactLocalStorage.get("token")}};l.a.post("/api/auth",null,t).then((function(t){"true"===t.data.data.user.isAdmin&&e.setState({isAdmin:!0}),t.data.data.user&&e.setState({loggedIn:!0})})),l.a.get("/api/projects/"+this.props.match.params.id).then((function(t){e.setState({project:t.data})})).catch((function(e){console.log("Error from ShowProjectDetails")})),l.a.get("/api/comments/"+this.props.match.params.id).then((function(t){e.setState({comments:t.data})})).catch((function(e){console.log("Error from Comments")}))}},{key:"render",value:function(){var e=this,t=this.state.project;document.title=t.title;var a,n=Object(m.jsx)(S.a,{hover:!0,variant:"dark",responsive:"sm",children:Object(m.jsxs)("tbody",{children:[Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{scope:"row"}),Object(m.jsx)("td",{children:"Title"}),Object(m.jsx)("td",{children:t.title})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{scope:"row"}),Object(m.jsx)("td",{children:"Author"}),Object(m.jsx)("td",{children:t.author})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{scope:"row"}),Object(m.jsx)("td",{children:"Published Date"}),Object(m.jsx)("td",{children:t.published_date})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{scope:"row"}),Object(m.jsx)("td",{children:"Description"}),Object(m.jsx)("td",{children:t.description})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{scope:"row"}),Object(m.jsx)("td",{children:"Programming language"}),Object(m.jsx)("td",{children:t.language})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{scope:"row"}),Object(m.jsx)("td",{children:"Status"}),Object(m.jsxs)("td",{children:[t.status," "]})]}),t.sourcecode&&Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{scope:"row"}),Object(m.jsx)("td",{children:"Source code"}),Object(m.jsx)("td",{children:Object(m.jsx)(d.b,{to:{pathname:t.sourcecode},target:"_blank",children:t.sourcecode})})]}),t.download&&Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{scope:"row"}),Object(m.jsx)("td",{children:"Download link"}),Object(m.jsx)("td",{children:Object(m.jsx)(d.b,{to:{pathname:t.download},target:"_blank",children:t.download})})]})]})}),s=this.state.comments;return a=s?s.map((function(t,a){return Object(m.jsx)("div",{className:"container",children:Object(m.jsx)(y,{comment:t,project:e.props.match.params.id},a)})})):"there is no project record!",Object(m.jsxs)("div",{className:"container details-container",children:[Object(m.jsx)("div",{className:"row",children:Object(m.jsxs)("div",{className:"col-md-8 m-auto",children:[Object(m.jsx)("br",{}),Object(m.jsx)("h1",{className:"display-4 text-center",children:t.title}),Object(m.jsx)("hr",{})]})}),Object(m.jsxs)("div",{children:[n,this.state.isAdmin&&Object(m.jsxs)("div",{children:[Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("button",{onClick:this.editPage.bind(),className:"btn btn-outline-info btn-lg btn-block",children:"Edit Project"}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{})]})]}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("h2",{className:"text-center",children:"Comments"}),Object(m.jsx)("hr",{}),this.state.loggedIn&&Object(m.jsxs)("div",{children:[Object(m.jsxs)("form",{noValidate:!0,onSubmit:this.createComment.bind(),children:[Object(m.jsx)("div",{className:"form-group",children:Object(m.jsx)("input",{type:"text",placeholder:"Comment",name:"description",className:"form-control",value:this.state.description,onChange:this.onChange})}),Object(m.jsx)("input",{type:"submit",className:"btn btn-outline-warning btn-block mt-3"})]}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{})]}),Object(m.jsx)("div",{className:"comment-list",children:a}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{})]})}}]),a}(s.Component),A=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).onChange=function(e){n.setState(Object(w.a)({},e.target.name,e.target.value))},n.deleteProject=function(e){var t={headers:{Authorization:g.reactLocalStorage.get("token")}};l.a.post("/api/auth",null,t).then((function(e){if("true"===e.data.data.user.isAdmin){n.state.title,n.state.author,n.state.description,n.state.language,n.state.sourcecode,n.state.download,n.state.status;l.a.delete("/api/projects/"+n.props.match.params.id,t).then((function(e){n.props.history.push("/projects")})).catch((function(e){console.log("Error in UpdateProject!")}))}}))},n.onSubmit=function(e){e.preventDefault();var t={headers:{Authorization:g.reactLocalStorage.get("token")}};l.a.post("/api/auth",null,t).then((function(e){if(e.data.data.user){var a={title:n.state.title,author:n.state.author,description:n.state.description,language:n.state.language,sourcecode:n.state.sourcecode,download:n.state.download,status:n.state.status};l.a.put("/api/projects/"+n.props.match.params.id,a,t).then((function(e){n.props.history.push("/projects/"+n.props.match.params.id)})).catch((function(e){console.log("Error in UpdateProject!")}))}}))},n.state={title:"",author:"",description:"",language:"",sourcecode:"",published_date:""},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this,t={headers:{Authorization:g.reactLocalStorage.get("token")}};l.a.post("/api/auth",null,t).then((function(t){"true"===t.data.data.user.isAdmin?l.a.get("/api/projects/"+e.props.match.params.id).then((function(t){e.setState({title:t.data.title,author:t.data.author,description:t.data.description,language:t.data.language,sourcecode:t.data.sourcecode,download:t.data.download,status:t.data.status})})).catch((function(e){console.log("Error from UpdateProject")})):e.props.history.push("/")})).catch((function(t){e.props.history.push("/")}))}},{key:"render",value:function(){return document.title="Edit "+this.state.title.toString(),Object(m.jsxs)("div",{className:"container",children:[Object(m.jsx)("div",{className:"row",children:Object(m.jsxs)("div",{className:"col-md-8 m-auto",children:[Object(m.jsx)("br",{}),Object(m.jsxs)("h1",{className:"display-4 text-center",children:["Edit Project - ",this.state.title]}),Object(m.jsx)("hr",{})]})}),Object(m.jsxs)("div",{className:"col-md-8 m-auto",children:[Object(m.jsxs)("form",{noValidate:!0,onSubmit:this.onSubmit,children:[Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"title",children:"Title"}),Object(m.jsx)("input",{type:"text",placeholder:"Title of the Project",name:"title",className:"form-control",value:this.state.title,onChange:this.onChange})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"author",children:"Author"}),Object(m.jsx)("input",{type:"text",placeholder:"Author",name:"author",className:"form-control",value:this.state.author,onChange:this.onChange})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"description",children:"Description"}),Object(m.jsx)("input",{type:"text",placeholder:"Describe this Project",name:"description",className:"form-control",value:this.state.description,onChange:this.onChange})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"language",children:"Programming language"}),Object(m.jsx)("input",{type:"text",placeholder:"Programming language",name:"language",className:"form-control",value:this.state.language,onChange:this.onChange})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"sourcecode",children:"Status"}),Object(m.jsx)("input",{type:"text",placeholder:"Status",name:"status",className:"form-control",value:this.state.status,onChange:this.onChange})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"sourcecode",children:"Source code"}),Object(m.jsx)("input",{type:"text",placeholder:"Source code",name:"sourcecode",className:"form-control",value:this.state.sourcecode,onChange:this.onChange})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"sourcecode",children:"Download link"}),Object(m.jsx)("input",{type:"text",placeholder:"Download link",name:"download",className:"form-control",value:this.state.download,onChange:this.onChange})]}),Object(m.jsx)("button",{type:"submit",className:"btn btn-outline-info btn-lg btn-block",children:"Update Project"}),Object(m.jsx)("button",{onClick:this.deleteProject.bind(),className:"btn btn-outline-danger btn-lg btn-block",children:"Delete Project"})]}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{})]})]})}}]),a}(s.Component),D=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(h.a)(this,a),(e=t.call(this)).onChange=function(t){e.setState(Object(w.a)({},t.target.name,t.target.value))},e.onSubmit=function(t){t.preventDefault();var a={username:e.state.username,password:e.state.password};l.a.post("/api/auth/login",a).then((function(e){g.reactLocalStorage.set("token",e.data.token),window.location.reload(!1)}))},e.state={username:"",password:""},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this,t={headers:{Authorization:g.reactLocalStorage.get("token")}};l.a.post("/api/auth",null,t).then((function(t){t.data.data.user&&e.props.history.push("/")}))}},{key:"render",value:function(){return document.title="Login",Object(m.jsx)("div",{className:"container",children:Object(m.jsx)("div",{className:"row",children:Object(m.jsxs)("div",{className:"col-md-8 m-auto",children:[Object(m.jsx)("br",{}),Object(m.jsx)("h1",{className:"display-4 text-center",children:"Login"}),Object(m.jsx)("hr",{}),Object(m.jsxs)("form",{noValidate:!0,onSubmit:this.onSubmit,children:[Object(m.jsx)("div",{className:"form-group",children:Object(m.jsx)("input",{type:"text",placeholder:"Username",name:"username",className:"form-control",value:this.state.username,onChange:this.onChange})}),Object(m.jsx)("div",{className:"form-group",children:Object(m.jsx)("input",{type:"password",placeholder:"Password",name:"password",className:"form-control",value:this.state.password,onChange:this.onChange})}),Object(m.jsx)("input",{type:"submit",className:"btn btn-outline-warning btn-block mt-4"})]}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{})]})})})}}]),a}(s.Component),F=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return document.title="About",Object(m.jsx)("div",{className:"container",children:Object(m.jsx)("div",{className:"row",children:Object(m.jsxs)("div",{className:"col-md-12",children:[Object(m.jsx)("br",{}),Object(m.jsx)("h2",{className:"display-4 text-center",children:"About me"}),Object(m.jsx)("hr",{})]})})})}}]),a}(s.Component),T=a(46),z=a(23),_=a(76),E=a(63),M=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={loggedIn:!1,isAdmin:!1},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this,t={headers:{Authorization:g.reactLocalStorage.get("token")}};l.a.post("/api/auth",null,t).then((function(t){t.data.data.user&&e.setState({loggedIn:!0}),t.data.data.user.isAdmin&&e.setState({isAdmin:!0})}))}},{key:"logout",value:function(){var e={headers:{Authorization:g.reactLocalStorage.get("token")}};l.a.post("/api/auth",null,e).then((function(e){e.data.data.user&&(g.reactLocalStorage.remove("token"),window.location.reload(!1))}))}},{key:"render",value:function(){return Object(m.jsx)(T.a,{collapseOnSelect:!0,bg:"dark",variant:"dark",expand:"lg",children:Object(m.jsxs)(_.a,{children:[Object(m.jsx)(T.a.Brand,{href:"/",children:"\u0160imon Borovsk\xfd"}),Object(m.jsx)(T.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(m.jsxs)(T.a.Collapse,{id:"basic-navbar-nav",children:[Object(m.jsxs)(z.a,{className:"mr-auto",children:[Object(m.jsx)(z.a.Link,{href:"/",children:"Home"}),Object(m.jsx)(z.a.Link,{href:"/projects",children:"Projects"}),Object(m.jsx)(z.a.Link,{href:"/about",children:"About me"}),Object(m.jsxs)(z.a.Link,{href:"https://github.com/sb-17",className:"navlinkicon",children:[Object(m.jsx)(E.a,{size:20,className:"icon"}),"Github"]}),Object(m.jsxs)(z.a.Link,{href:"https://twitter.com/lostin_games",className:"navlinkicon",children:[Object(m.jsx)(E.b,{size:20,className:"icon"}),"Twitter"]}),Object(m.jsxs)(z.a.Link,{href:"https://discord.gg/9ERdXUBwEZ",className:"navlinkicon",children:[Object(m.jsx)(k.a,{size:20,className:"icon"}),"Discord"]}),this.state.isAdmin&&Object(m.jsx)(z.a.Link,{href:"/adminpanel",children:"Admin Panel"})]}),Object(m.jsxs)(z.a,{className:"ml-auto",children:[this.state.loggedIn&&Object(m.jsx)(z.a.Link,{onClick:this.logout.bind(),children:"Log out"}),!this.state.loggedIn&&Object(m.jsx)(z.a.Link,{href:"/login",children:"Log in"}),!this.state.loggedIn&&Object(m.jsx)(z.a.Link,{href:"/register",children:"Register"})]})]})]})})}}]),a}(s.Component),I=a(77),U=a(78);var R=function(){return Object(m.jsx)(V,{className:"main-footer",children:Object(m.jsx)("div",{className:"footer-middle",children:Object(m.jsx)("div",{className:"container",children:Object(m.jsx)("div",{className:"footer-bottom",children:Object(m.jsxs)("p",{className:"text-xs-center",children:["\xa9",(new Date).getFullYear()," \u0160imon Borovsk\xfd - All Rights Reserved"]})})})})})},V=U.a.footer(n||(n=Object(I.a)(["\n    .footer-middle {\n        background: var(--dark);\n        padding-top: 1.5rem;\n        color: var(--white);\n        width: 100%;\n    }\n\n    .footer-bottom {\n        padding-bottom: 0.5rem;\n        text-align: center;\n    }\n"]))),B=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(h.a)(this,a),(e=t.call(this)).onChange=function(t){e.setState(Object(w.a)({},t.target.name,t.target.value))},e.onSubmit=function(t){t.preventDefault();var a={headers:{Authorization:g.reactLocalStorage.get("token")}};l.a.post("/api/auth",null,a).then((function(t){if("true"===t.data.data.user.isAdmin){var n={title:e.state.title,author:e.state.author,description:e.state.description,language:e.state.language,sourcecode:e.state.sourcecode,download:e.state.download,published_date:e.state.published_date,status:e.state.status};l.a.post("/api/projects",n,a).then((function(t){e.setState({title:"",author:"",description:"",language:"",sourcecode:"",published_date:"",status:"",download:""})})).catch((function(e){console.log("Error in CreateProject!")}))}}))},e.state={title:"",author:"",description:"",language:"",sourcecode:"",download:"",published_date:"",status:""},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this,t={headers:{Authorization:g.reactLocalStorage.get("token")}};l.a.post("/api/auth",null,t).then((function(t){"false"===t.data.data.user.isAdmin&&e.props.history.push("/")})).catch((function(t){e.props.history.push("/")}))}},{key:"render",value:function(){return document.title="Create Project",Object(m.jsx)("div",{className:"container",children:Object(m.jsx)("div",{className:"row",children:Object(m.jsxs)("div",{className:"col-md-8 m-auto",children:[Object(m.jsx)("br",{}),Object(m.jsx)("h1",{className:"display-4 text-center",children:"Add Project"}),Object(m.jsx)("hr",{}),Object(m.jsxs)("form",{noValidate:!0,onSubmit:this.onSubmit,children:[Object(m.jsx)("div",{className:"form-group",children:Object(m.jsx)("input",{type:"text",placeholder:"Title of the Project",name:"title",className:"form-control",value:this.state.title,onChange:this.onChange})}),Object(m.jsx)("div",{className:"form-group",children:Object(m.jsx)("input",{type:"text",placeholder:"Author",name:"author",className:"form-control",value:this.state.author,onChange:this.onChange})}),Object(m.jsx)("div",{className:"form-group",children:Object(m.jsx)("input",{type:"text",placeholder:"Describe this project",name:"description",className:"form-control",value:this.state.description,onChange:this.onChange})}),Object(m.jsx)("div",{className:"form-group",children:Object(m.jsx)("input",{type:"text",placeholder:"Programming language",name:"language",className:"form-control",value:this.state.language,onChange:this.onChange})}),Object(m.jsx)("div",{className:"form-group",children:Object(m.jsx)("input",{type:"text",placeholder:"Date",name:"published_date",className:"form-control",value:this.state.published_date,onChange:this.onChange})}),Object(m.jsx)("div",{className:"form-group",children:Object(m.jsx)("input",{type:"text",placeholder:"Status",name:"status",className:"form-control",value:this.state.status,onChange:this.onChange})}),Object(m.jsx)("div",{className:"form-group",children:Object(m.jsx)("input",{type:"text",placeholder:"Source code",name:"sourcecode",className:"form-control",value:this.state.sourcecode,onChange:this.onChange})}),Object(m.jsx)("div",{className:"form-group",children:Object(m.jsx)("input",{type:"text",placeholder:"Download link",name:"download",className:"form-control",value:this.state.download,onChange:this.onChange})}),Object(m.jsx)("input",{type:"submit",className:"btn btn-outline-warning btn-block mt-4"})]})]})})})}}]),a}(s.Component),Y=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(h.a)(this,a),(e=t.call(this)).onChange=function(t){e.setState(Object(w.a)({},t.target.name,t.target.value))},e.onSubmit=function(t){if(t.preventDefault(),e.state.password===e.state.confirmPassword){var a={username:e.state.username,password:e.state.password};l.a.post("/api/auth/register",a).then((function(t){e.props.history.push("/login")})),e.setState({isSubmitted:!0})}else e.setState({errorMessage:"Passwords don't match."})},e.state={username:"",password:"",confirmPassword:"",errorMessage:"",isSubmitted:!1},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this,t={headers:{Authorization:g.reactLocalStorage.get("token")}};l.a.post("/api/auth",null,t).then((function(t){t.data.data.user&&e.props.history.push("/")})).catch((function(e){}))}},{key:"render",value:function(){return document.title="Login",Object(m.jsx)("div",{className:"container",children:Object(m.jsx)("div",{className:"row",children:Object(m.jsxs)("div",{className:"col-md-8 m-auto",children:[Object(m.jsx)("br",{}),Object(m.jsx)("h1",{className:"display-4 text-center",children:"Register"}),Object(m.jsx)("hr",{}),Object(m.jsxs)("form",{noValidate:!0,onSubmit:this.onSubmit,children:[Object(m.jsx)("div",{className:"form-group",children:Object(m.jsx)("input",{type:"text",placeholder:"Username",name:"username",className:"form-control",value:this.state.username,onChange:this.onChange})}),Object(m.jsx)("div",{className:"form-group",children:Object(m.jsx)("input",{type:"password",placeholder:"Password",name:"password",className:"form-control",value:this.state.password,onChange:this.onChange})}),Object(m.jsx)("div",{className:"form-group",children:Object(m.jsx)("input",{type:"password",placeholder:"Confirm password",name:"confirmPassword",className:"form-control",value:this.state.confirmPassword,onChange:this.onChange})}),Object(m.jsx)("div",{className:"form-group",children:Object(m.jsx)("center",{children:Object(m.jsx)("p",{children:this.state.errorMessage})})}),Object(m.jsx)("input",{type:"submit",className:"btn btn-outline-warning btn-block mt-4"})]}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{})]})})})}}]),a}(s.Component),K=a(43),H=a(29),J=a.n(H),W=a(44),G=a(38),X=a(30),Z=a(83),q=function(e){var t=Object(s.useState)(null),a=Object(X.a)(t,2),n=a[0],c=a[1],r=Object(s.useState)({projectTitle:"",version:""}),o=Object(X.a)(r,2),i=o[0],d=o[1],j=Object(s.useState)(""),h=Object(X.a)(j,2),u=(h[0],h[1]),b=Object(s.useRef)(),p=function(e){d(Object(G.a)(Object(G.a)({},i),{},Object(w.a)({},e.target.name,e.target.value)))},O=function(e){"over"===e?b.current.style.border="2px solid #000":"leave"===e&&(b.current.style.border="2px dashed #e9ebeb")},x=function(){var e=Object(W.a)(J.a.mark((function e(t){var a,s,r;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,a=i.projectTitle,s=i.version,""===a.trim()||""===s.trim()){e.next=18;break}if(!n){e.next=15;break}return(r=new FormData).append("file",n),r.append("projectTitle",a),r.append("version",s),e.next=11,l.a.post("/api/files/upload",r,{headers:{"Content-Type":"multipart/form-data",Authorization:g.reactLocalStorage.get("token")}});case 11:d({projectTitle:"",version:""}),c(null),e.next=16;break;case 15:u("Please select a file to add.");case 16:e.next=19;break;case 18:u("Please enter all the field values.");case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(1),e.t0.response&&u(e.t0.response.data);case 24:case"end":return e.stop()}}),e,null,[[1,21]])})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsx)("div",{className:"container",children:Object(m.jsx)("div",{className:"row",children:Object(m.jsx)("div",{className:"col-md-8 m-auto",children:Object(m.jsxs)("form",{noValidate:!0,onSubmit:x,children:[Object(m.jsx)("div",{className:"form-group",children:Object(m.jsx)("input",{type:"text",placeholder:"Project title",name:"projectTitle",className:"form-control",value:i.projectTitle,onChange:p})}),Object(m.jsx)("div",{className:"form-group",children:Object(m.jsx)("input",{type:"text",placeholder:"Version",name:"version",className:"form-control",value:i.version,onChange:p})}),Object(m.jsx)("div",{className:"upload-section",children:Object(m.jsx)(Z.a,{onDrop:function(e){var t=Object(X.a)(e,1)[0];c(t),(new FileReader).readAsDataURL(t),b.current.style.border="2px dashed #e9ebeb"},onDragEnter:function(){return O("over")},onDragLeave:function(){return O("leave")},children:function(e){var t=e.getRootProps,a=e.getInputProps;return Object(m.jsxs)("div",Object(G.a)(Object(G.a)({},t({className:"drop-zone"})),{},{ref:b,children:[Object(m.jsx)("input",Object(G.a)({},a())),Object(m.jsx)("p",{children:"Drag and drop a file OR click here to select a file"}),n&&Object(m.jsxs)("div",{children:[Object(m.jsx)("strong",{children:"Selected file:"})," ",n.name]})]}))}})}),Object(m.jsx)("input",{type:"submit",className:"btn btn-outline-warning btn-block mt-4"})]})})})})},Q=a(55),$=a.n(Q),ee=function(){var e=Object(s.useState)([]),t=Object(X.a)(e,2),a=t[0],n=t[1],c=Object(s.useState)(""),r=Object(X.a)(c,2),o=r[0],i=r[1];Object(s.useEffect)((function(){(function(){var e=Object(W.a)(J.a.mark((function e(){var t,a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.get("/api/files/getAllFiles");case 3:t=e.sent,a=t.data,i(""),n(a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),e.t0.response&&i(e.t0.response.data);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var d=function(){var e=Object(W.a)(J.a.mark((function e(t,a,n){var s,c,r;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.get("/api/files/download/"+t,{responseType:"blob"});case 3:return s=e.sent,c=a.split("/"),r=c[c.length-1],i(""),e.abrupt("return",$()(s.data,r,n));case 10:e.prev=10,e.t0=e.catch(0),e.t0.response&&400===e.t0.response.status&&i("Error while downloading file. Try again later");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a,n){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{children:[o&&Object(m.jsx)("p",{className:"errorMsg",children:o}),Object(m.jsxs)(S.a,{hover:!0,variant:"dark",responsive:"sm",children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:"Project title"}),Object(m.jsx)("th",{children:"Version"}),Object(m.jsx)("th",{children:"Download File"})]})}),Object(m.jsx)("tbody",{children:a.length>0?a.map((function(e){var t=e._id,a=e.projectTitle,n=e.version,s=e.file_path,c=e.file_mimetype;return Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:a}),Object(m.jsx)("td",{children:n}),Object(m.jsx)("td",{children:Object(m.jsx)("a",{onClick:function(){return d(t,s,c)},children:"Download"})})]},t)})):Object(m.jsx)("tr",{children:Object(m.jsx)("td",{colSpan:3,style:{fontWeight:"300"},children:"No files found. Please add some."})})})]})]})},te=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).onChange=function(e){n.setState(Object(w.a)({},e.target.name,e.target.value))},n.state={showFileUpload:!1,showFilesList:!1},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this,t={headers:{Authorization:g.reactLocalStorage.get("token")}};l.a.post("/api/auth",null,t).then((function(t){"false"===t.data.data.user.isAdmin&&e.props.history.push("/")})).catch((function(t){e.props.history.push("/")}))}},{key:"render",value:function(){var e=this;return document.title="Admin Panel",Object(m.jsx)("div",{className:"container",children:Object(m.jsx)("div",{className:"row",children:Object(m.jsxs)("div",{className:"col-md-8 m-auto",children:[Object(m.jsx)("br",{}),Object(m.jsx)("h1",{className:"display-4 text-center",children:"Admin Panel"}),Object(m.jsx)("hr",{}),Object(m.jsx)("center",{children:Object(m.jsx)(K.a,{variant:"secondary",onClick:function(){return e.setState({showFileUpload:!e.state.showFileUpload})},children:"File upload"})}),Object(m.jsx)("br",{}),this.state.showFileUpload&&Object(m.jsxs)("div",{children:[Object(m.jsx)(q,{}),Object(m.jsx)("br",{})]}),Object(m.jsx)("center",{children:Object(m.jsx)(K.a,{variant:"secondary",onClick:function(){return e.setState({showFilesList:!e.state.showFilesList})},children:"Files list"})}),Object(m.jsx)("br",{}),this.state.showFilesList&&Object(m.jsxs)("div",{children:[Object(m.jsx)(ee,{}),Object(m.jsx)("br",{})]})]})})})}}]),a}(s.Component),ae=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"componentDidMount",value:function(){l.a.get("/api/files/download/"+this.props.match.params.projectTitle+"/"+this.props.match.params.version).then((function(e){var t=e.headers.path.split("/"),a=t[t.length-1];return $()(e.data,a,e.headers.mimetype)})).catch((function(e){console.log("Error from FilePage")}))}},{key:"render",value:function(){return Object(m.jsx)("div",{})}}]),a}(s.Component);var ne=function(){return Object(m.jsxs)(d.a,{children:[Object(m.jsx)(M,{}),Object(m.jsxs)("div",{className:"Body",children:[Object(m.jsx)(j.a,{exact:!0,path:"/",component:O}),Object(m.jsx)(j.a,{exact:!0,path:"/projects",component:N}),Object(m.jsx)(j.a,{exact:!0,path:"/project/:id",component:P}),Object(m.jsx)(j.a,{exact:!0,path:"/edit/:id",component:A}),Object(m.jsx)(j.a,{exact:!0,path:"/create",component:B}),Object(m.jsx)(j.a,{exact:!0,path:"/login",component:D}),Object(m.jsx)(j.a,{exact:!0,path:"/register",component:Y}),Object(m.jsx)(j.a,{exact:!0,path:"/about",component:F}),Object(m.jsx)(j.a,{exact:!0,path:"/adminpanel",component:te}),Object(m.jsx)(j.a,{exact:!0,path:"/file/:projectTitle/:version",component:ae})]}),Object(m.jsx)(R,{})]})};l.a.defaults.withCredentials=!0;var se=function(){return Object(m.jsx)(ne,{})},ce=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,123)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),n(e),s(e),c(e),r(e)}))};o.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(se,{})}),document.getElementById("root")),ce()},19:function(e,t,a){},88:function(e,t,a){}},[[118,1,2]]]);
//# sourceMappingURL=main.d917cac7.chunk.js.map